#!/bin/bash

set -e

# Resolve symlink to find actual script location
SCRIPT_DIR="$(cd "$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")" && pwd)"

source "$SCRIPT_DIR/../lib/utils.sh"
source "$SCRIPT_DIR/../lib/commands.sh"

DOTFILES="$HOME/.config/dots"
TRASH="$HOME/.local/share/Trash/files"


case "$1" in
    setup) cmd_setup "$2" ;;
    snatch) cmd_snatch "$2" ;;
    link) shift; cmd_link "$@" ;;
    unlink) shift; cmd_unlink "$@" ;;
    eject) shift; cmd_eject "$@" ;;
    rm) shift; cmd_rm "$@" ;;
    sync|pull) cmd_sync ;;
    push) cmd_push ;;
    status) cmd_status ;;
    help|--help|-h|"") cmd_help ;;
    *) error "Thats not a real command: $1\nTry 'dots help' for usage" ;;
esac